<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ez.gw.calendar.model.CalendarDAO">
	<insert id="insertCalendar" parameterType="calendarVo" >
		<selectKey keyProperty="calendarNo" order="BEFORE" resultType="int">
			select calendar_seq.nextval from dual
		</selectKey>
		insert into calendar(calendar_no, title, begindate, enddate, begintime, endtime, allday_flag, attendee, place, content, categoryno)
		values(#{calendarNo}, #{title}, substr(#{begindate}, 1, 10)), substr(#{enddate},1,10), substr(#{begindate}, -1, 5), substr(#{enddate}, -1, 5), #{alldayFlag}, #{attendee}, #{place}, #{content}, #{categoryNo})
	</insert>
</mapper>